# 树的深度和高度

    节点的深度：从根节点到该节点所经历的节点的个数
    节点的高度：节点到叶节点的最长路径
    
   ![avatar](https://pica.zhimg.com/80/v2-0e8c24776a03380a4db561d47f68847c_1440w.jpg?source=1940ef5c)
    
# 二叉树

    每个节点不能多于有两个儿子
    
    参考文档：https://zhuanlan.zhihu.com/p/262268745

## 二叉树遍历方式
    
    1. 先序遍历：根->左->右
        
        先访问根节点，然后访问左节点，最后访问右节点
        
    2. 中序遍历：左->根->右
        
        先访问左节点，然后访问根节点，最后访问右节点
        
    3. 后序遍历：左->右->根
        
        先访问左节点，然后访问右节点，最后访问根节点
        
    通过中序和先序或者中序和后序我们就可以确定一颗二叉树了
    
# 满二叉树
    
    除了叶结点外每一个结点都有左右子叶且叶子结点都处在最底层的二叉树

    tips: 每一层都挂满了（两个节点）节点的二叉树    

# 完全二叉树

    除最后一层，之前都是满节点，最后一层从左至右依次排列，可以不排满
    
    tips: 满二叉树一定是完全二叉树，完全二叉树不一定是满二叉树
    
   ![avatar](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2018/5/16/16366e7f6d71cdaf~tplv-t2oaga2asx-watermark.awebp)
    
    
# 二叉查找树（BST）
    
    时间复杂度：Ｏ(logn)
    
## 特性：
    
    当前根节点的左边全部比根节点小，当前根节点的右边全部比根节点大。
    
## 优点：
    
    快速查到想要的值， 用二分查找的思想。 查找所需的最大次数等于二叉查找数的最大高度
    
## 缺点：
    
    会出现大量节点偏向于一边的情况，容易形成线性的二叉树，降低了查找的性能
        
# 平衡二叉树（AVL）

    参考文档：https://mp.weixin.qq.com/s/dYP5-fM22BgM3viWg4V44A

    二叉搜索树升级过来， 重点是改进了平衡问题
    
## 特性：
    
    1. AVL树也规定了左结点小于根节点，右结点大于根节点。  
    
    2. 每一个节点的左右子树的高度相差不能大于 1
    
       左右两个子树都是一棵平衡二叉树
       
## 优点：
    
    解决了二叉查找树退化成链表的问题
    
## 缺点：

    每次进行插入/删除节点的时候，几乎都会破坏平衡树，需要通过左旋和右旋来进行调整。

## AVL树怎么解决平衡？
    
    主要就是通过左旋和右旋来解决
    
    在插入的过程中，会出现一下四种情况破坏AVL树的特性，我们可以采取如下相应的旋转：
    
        EX: 3,2,1,4,5,6,7,10,9,8

        1、左-左型：做右旋。
        
        2、右-右型：做左旋转。
        
        3、左-右型：先做左旋，后做右旋。
        
        4、右-左型：先做右旋，再做左旋。
            
            
# 红黑树
    
    参考文档：https://juejin.cn/post/6844903519632228365
    
## 特性
    
    1. 节点是红色或黑色
    
    2. 根节点是黑色
    
    3. 每个叶子节点都是黑色的空节点（NIL节点）
    
    4. 每个红色节点的两个子节点都是黑色
    
    5. 从任一节点到其每个叶子的所有路径都包含相同数目的黑色节点
    
    6. 添加的节点必须为红色

## 优势

    1. 从根到叶子的最长路径不会超过最短路径的2倍
    
    2. 每次插入最多只需要三次旋转就能达到平衡

## 如何保证始终是红黑树

    变色和旋转          


# B树（B-tree） 
    
    参考文档： https://mp.weixin.qq.com/s?__biz=Mzg2NzA4MTkxNQ==&mid=2247486101&idx=1&sn=980f6dfb7643a9ff4f5a661d4a496046
    
## 特性
    
    B 树相当于是一棵多叉查找树，m 阶的 B 树具有如下特性：
    
        
        m/2 <= k <= m
        
        1. 根节点至少有两个孩子
        
        2. 每个中间节点都包含 k - 1 个元素和 k 个孩子
        
        3. 每一个叶子节点都包含 k - 1 个元素
        
        4. 每个节点中的元素从小到大排列
        
        5. 所有的叶子节点都位于同一侧
        
   ![avatar](https://mmbiz.qpic.cn/mmbiz_png/b95QHPkcOMD6Dyib2X0PRBJFQoLQYE3EE3Z4SUTx0MhbU0VLY3KIG5pu9PaGBU0dljXwJ7s92IlquXcbicmdrddQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
  
##为什么B树的效率比二叉查找树快
    
    B树的磁盘的寻址加载次数少
    
    节点与节点之间的数据是不连续的，所以不同的节点，很有可能分布在不同的磁盘页中。
    由于 B 树的每一个节点，可以存放多个元素，所以磁盘寻址加载的次数会比较少
    
## 文件索引的存储，为什么选择矮胖的树形结构？
    
    磁盘的加载次数，基本上是和树的高度相关联的，高度越高，加载次数越多，越矮，加载次数越少。
    例如有 1000 个元素，如果是二叉查找树的话，高度可能高达 10 层,而如果用 10 阶 B 树的话，只需要三四层即可。

# B+树（B+tree）

     参考文档: https://zhuanlan.zhihu.com/p/130482609 

## 特性

    B+树是B树的一种变形体，它与B树的差异在于：
    
        1. 非叶子节点具有索引作用， 存储的是关键码
        
        2. 叶子节点存的是数据元素
        
        3. 树的所有叶节点构成一个有序链表
        
        
####  B+树的优势：

        1. 由于B+树在内部节点上不包含数据信息，因此在内存页中能够存放更多的key。 数据存放的更加紧密，具有更好的空间局部性。
           因此访问叶子节点上关联的数据也具有更好的缓存命中率。
        
        2. B+树的叶子节点都是相连的，因此对整棵树的遍历只需要一次线性遍历叶子节点即可。
           而且由于数据顺序排列并且相连，所以便于区间查找和搜索。
        
          而B树则需要进行每一层的递归遍历。相邻的元素可能在内存中不相邻，所以缓存命中性没有B+树好。
 
# 相关总结
  
## 红黑树与平衡二叉树的区别：

    红黑树相比于AVL树，牺牲了部分平衡性，以换取删除/插入操作时少量的旋转次数
    
### 1. 平衡差异：
    
    红黑树追求大致平衡
    
    平衡二叉树追求绝对平衡
    
### 2. 旋转差异（旋转非常耗时）：


    红黑树保证每次插入最多只需要三次旋转就能达到平衡。
    
    平衡二叉树需要旋转的次数不能预知。
    
### 3. 高度差异：
    
    在相同的节点情况下，AVL树的高度低于红黑树

### 4. 应用场景：
     
     AVL树适合用于查找多的情况
     
     红黑树使用于插入，删除操作较多的情况。

## 为什么有了二叉查找树/平衡树还需要红黑树

    平衡树是为了解决二叉查找树退化为链表的情况
    
    而红黑树是为了解决平衡树在插入、删除等操作需要频繁调整的情况

    平衡树要求每个节点的左子树和右子树的高度差至多等于1，这个要求实在是太严了，导致每次进行插入/删除节点的时候，
    几乎都会破坏平衡树的第二个规则，进而我们都需要通过左旋和右旋来进行调整，使之再次成为一颗符合要求的平衡树。
       
       
## 为什么引出B树和B+树？
        
        进行查询操作时，需要先将数据加载到内存中（磁盘IO操作），只能逐一加载每个磁盘页（对应树的一个节点）。

        平衡二叉树由于树深度过大而造成磁盘IO读写过于频繁，进而导致效率低下。
        
        为了减少磁盘IO的次数，就需要降低树的深度，那么就引出了B树和B+树：
            每个节点存储多个元素，采用多叉树结构。这样就提高了效率。
            
## 红黑树,B树,B+树 本质区别及应用场景
    
    https://juejin.cn/post/6940068255075827743
